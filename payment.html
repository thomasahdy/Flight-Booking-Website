<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - Tripma</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <a href="index.html" class="logo">Tripma</a>
            <ul class="nav-links">
                <li><a href="search-flight.html">Flights</a></li>
                <li><a href="login.html">Sign in</a></li>
                <li><a href="register.html" class="btn btn-primary">Sign up</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="container" style="display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 2rem; margin-top: 2rem;">
        <!-- Left Column: Payment Forms -->
        <div>
            <!-- Payment Method -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <h2 style="color: var(--primary-purple); margin-bottom: 0.5rem;">Payment method</h2>
                <p style="color: var(--gray-medium); margin-bottom: 1.5rem;">
                    Select a payment method below. Tripma processes your payment securely with end-to-end encryption.
                </p>
                <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                    <button id="creditCardBtn" onclick="selectPaymentMethod('credit')" class="btn btn-primary" style="display: flex; align-items: center; gap: 0.5rem;">
                        üí≥ Credit card
                    </button>
                    <button onclick="selectPaymentMethod('google')" class="btn btn-secondary" style="display: flex; align-items: center; gap: 0.5rem;">
                        G Google Pay
                    </button>
                    <button onclick="selectPaymentMethod('apple')" class="btn btn-secondary" style="display: flex; align-items: center; gap: 0.5rem;">
                        üçé Apple pay
                    </button>
                    <button onclick="selectPaymentMethod('paypal')" class="btn btn-secondary" style="display: flex; align-items: center; gap: 0.5rem;">
                        P PayPal
                    </button>
                    <button onclick="selectPaymentMethod('crypto')" class="btn btn-secondary" style="display: flex; align-items: center; gap: 0.5rem;">
                        ‚Çø Crypto
                    </button>
                </div>
            </div>

            <!-- Credit Card Details -->
            <div id="creditCardForm" class="card" style="margin-bottom: 1.5rem;">
                <h2 style="color: var(--primary-purple); margin-bottom: 1rem;">Credit card details</h2>
                <div class="checkbox-group" style="margin-bottom: 1rem;">
                    <input type="checkbox" id="sameAddress" checked>
                    <label for="sameAddress">Billing address is same as Passenger 1</label>
                </div>
                <div class="form-group">
                    <label for="cardName">Name on card</label>
                    <input type="text" id="cardName" name="cardName" placeholder="Sophia Knowles" value="Sophia Knowles">
                </div>
                <div class="form-group">
                    <label for="cardNumber">Card number</label>
                    <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="expiry">Expiration date</label>
                        <input type="text" id="expiry" name="expiry" placeholder="10/23" maxlength="5">
                        <p style="margin: 0.25rem 0 0 0; font-size: 0.875rem; color: var(--gray-medium);">MM/YY</p>
                    </div>
                    <div class="form-group">
                        <label for="cvv">CVV</label>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="4" style="flex: 1;">
                            <span style="cursor: pointer;" title="3-digit code on the back of your card">‚ÑπÔ∏è</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Create Account -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <h2 style="color: var(--primary-purple); margin-bottom: 0.5rem;">Create an account</h2>
                <p style="color: var(--gray-medium); margin-bottom: 1rem; font-size: 0.875rem;">
                    Tripma is free to use as a guest, but if you create an account today, you can save and view flights, manage your trips, earn rewards, and more.
                </p>
                <div class="checkbox-group" style="margin-bottom: 1rem;">
                    <input type="checkbox" id="saveCard" checked>
                    <label for="saveCard">Save card and create account for later</label>
                </div>
                <div class="form-group">
                    <label for="accountEmail">Email address or phone number</label>
                    <input type="text" id="accountEmail" name="accountEmail" placeholder="sophiaknowles89@tripma.com" value="sophiaknowles89@tripma.com">
                </div>
                <div class="form-group">
                    <label for="accountPassword">Password</label>
                    <div style="position: relative;">
                        <input type="password" id="accountPassword" name="accountPassword" placeholder="Create a password" style="padding-right: 3rem;">
                        <span onclick="togglePassword()" style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); cursor: pointer;">üëÅÔ∏è</span>
                    </div>
                    <p id="passwordStrength" style="margin: 0.25rem 0 0 0; font-size: 0.875rem; color: #10B981; font-weight: 500;">Strong password</p>
                </div>
                <div style="text-align: center; margin: 1.5rem 0; position: relative;">
                    <hr style="border: none; border-top: 1px solid var(--gray-light);">
                    <span style="position: absolute; top: -10px; left: 50%; transform: translateX(-50%); background: var(--white); padding: 0 1rem; color: var(--gray-medium);">or</span>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                    <button class="btn btn-secondary" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                        G Sign up with Google
                    </button>
                    <button class="btn btn-secondary" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                        üçé Continue with Apple
                    </button>
                    <button class="btn btn-secondary" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                        f Continue with Facebook
                    </button>
                </div>
            </div>

            <!-- Cancellation Policy -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <h2 style="color: var(--primary-purple); margin-bottom: 0.5rem;">Cancellation policy</h2>
                <p style="color: var(--gray-medium); line-height: 1.6; font-size: 0.875rem;">
                    This flight has a flexible cancellation policy. If you cancel or change your flight up to 30 days before the departure date, you are eligible for a free refund. All flights booked on Tripma are backed by our satisfaction guarantee, however cancellation policies vary by airline. <a href="#" style="color: var(--primary-purple);">See the full cancellation policy for this flight.</a>
                </p>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; gap: 1rem;">
                <a href="seat-selection.html" class="btn btn-secondary" style="flex: 1; text-align: center;">Back to seat select</a>
                <button onclick="confirmPayment()" class="btn btn-primary" style="flex: 1;">Confirm and pay</button>
            </div>
        </div>

        <!-- Right Column: Flight Summary -->
        <div>
            <div class="card" style="position: sticky; top: 100px;">
                <!-- Flight Details -->
                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 2px solid var(--gray-light);">
                        <div style="width: 40px; height: 40px; background: var(--primary-purple); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">HA</div>
                        <div>
                            <p style="margin: 0; font-weight: 600;">Hawaiian Airlines</p>
                            <p style="margin: 0; color: var(--gray-medium); font-size: 0.875rem;">FIG4312</p>
                        </div>
                    </div>
                    <div style="margin-bottom: 0.75rem;">
                        <p style="margin: 0; color: var(--gray-medium); font-size: 0.875rem;">16h 45m (+1d)</p>
                        <p style="margin: 0; font-weight: 600;">7:00 AM - 4:15 PM</p>
                        <p style="margin: 0; color: var(--gray-medium); font-size: 0.875rem;">2h 45m in HNL</p>
                    </div>
                </div>

                <!-- Duplicate for return flight -->
                <div style="margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 2px solid var(--gray-light);">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                        <div style="width: 40px; height: 40px; background: var(--primary-purple); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">HA</div>
                        <div>
                            <p style="margin: 0; font-weight: 600;">Hawaiian Airlines</p>
                            <p style="margin: 0; color: var(--gray-medium); font-size: 0.875rem;">FIG4312</p>
                        </div>
                    </div>
                    <div>
                        <p style="margin: 0; color: var(--gray-medium); font-size: 0.875rem;">16h 45m (+1d)</p>
                        <p style="margin: 0; font-weight: 600;">7:00 AM - 4:15 PM</p>
                        <p style="margin: 0; color: var(--gray-medium); font-size: 0.875rem;">2h 45m in HNL</p>
                    </div>
                </div>

                <!-- Price Breakdown -->
                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">
                        <span style="color: var(--gray-medium);">Seat upgrade</span>
                        <span id="upgradePrice" style="font-weight: 600;">$0</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">
                        <span style="color: var(--gray-medium);">Subtotal</span>
                        <span id="subtotal" style="font-weight: 600;">$503</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">
                        <span style="color: var(--gray-medium);">Taxes and Fees</span>
                        <span style="font-weight: 600;">$66</span>
                    </div>
                    <hr style="border: none; border-top: 2px solid var(--gray-light); margin: 1rem 0;">
                    <div style="display: flex; justify-content: space-between;">
                        <span style="font-size: 1.25rem; font-weight: bold; color: var(--primary-purple);">Total</span>
                        <span id="total" style="font-size: 1.25rem; font-weight: bold; color: var(--primary-purple);">$569</span>
                    </div>
                </div>

                <button onclick="confirmPayment()" class="btn btn-primary" style="width: 100%;">Confirm and pay</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h3>Tripma</h3>
            </div>
            <div class="footer-column">
                <h3>About</h3>
                <a href="#">About Tripma</a>
                <a href="#">How it works</a>
                <a href="#">Careers</a>
                <a href="#">Press</a>
                <a href="#">Blog</a>
                <a href="#">Forum</a>
            </div>
            <div class="footer-column">
                <h3>Partner with us</h3>
                <a href="#">Partnership programs</a>
                <a href="#">Affiliate program</a>
                <a href="#">Connectivity partners</a>
                <a href="#">Promotions and events</a>
                <a href="#">Integrations</a>
                <a href="#">Community</a>
                <a href="#">Loyalty program</a>
            </div>
            <div class="footer-column">
                <h3>Support</h3>
                <a href="#">Help Center</a>
                <a href="#">Contact us</a>
                <a href="#">Privacy policy</a>
                <a href="#">Terms of service</a>
                <a href="#">Trust and safety</a>
                <a href="#">Accessibility</a>
            </div>
            <div class="footer-column">
                <h3>Get the app</h3>
                <a href="#">Tripma for Android</a>
                <a href="#">Tripma for iOS</a>
                <a href="#">Mobile site</a>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="social-icons">
                <a href="#">üê¶</a>
                <a href="#">üì∑</a>
                <a href="#">üìò</a>
            </div>
            <p>¬© 2020 Tripma incorporated.</p>
        </div>
    </footer>

    <script>
        // Get URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const upgrade = parseInt(urlParams.get('upgrade') || '0');
        
        // Update prices
        if (upgrade > 0) {
            document.getElementById('upgradePrice').textContent = `$${upgrade}`;
            const subtotal = 503 + upgrade;
            document.getElementById('subtotal').textContent = `$${subtotal}`;
            document.getElementById('total').textContent = `$${subtotal + 66}`;
        }

        function selectPaymentMethod(method) {
            // Reset all buttons
            document.querySelectorAll('[onclick^="selectPaymentMethod"]').forEach(btn => {
                btn.className = 'btn btn-secondary';
            });
            
            // Highlight selected
            event.currentTarget.className = 'btn btn-primary';
            
            // Show/hide credit card form
            if (method === 'credit') {
                document.getElementById('creditCardForm').style.display = 'block';
            } else {
                document.getElementById('creditCardForm').style.display = 'none';
            }
        }

        function togglePassword() {
            const input = document.getElementById('accountPassword');
            input.type = input.type === 'password' ? 'text' : 'password';
        }

        // Format card number
        document.getElementById('cardNumber').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s/g, '');
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            e.target.value = formattedValue;
        });

        // Format expiry date
        document.getElementById('expiry').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            e.target.value = value;
        });

        function confirmPayment() {
            const paymentMethod = document.querySelector('.btn-primary[onclick^="selectPaymentMethod"]')?.textContent.trim();
            
            if (!paymentMethod || paymentMethod.includes('Credit card')) {
                const cardNumber = document.getElementById('cardNumber').value;
                const expiry = document.getElementById('expiry').value;
                const cvv = document.getElementById('cvv').value;
                
                if (!cardNumber || !expiry || !cvv) {
                    alert('Please fill in all credit card details.');
                    return;
                }
            }
            
            alert('Payment confirmed! Your flight has been booked successfully.');
            window.location.href = 'passenger-home.html';
        }
    </script>
</body>
</html>

